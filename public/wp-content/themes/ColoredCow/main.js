/*! ColoredCow 2017-07-31 */
jQuery(document).ready(function(a){function b(){var b="action=add_requested_guests&event_id="+e+"&"+a("#request_form").serialize();a.ajax({type:"POST",url:PARAMS.ajaxurl,data:b,success:function(a){alert("Request Submitted")}})}function c(b){var c=b;a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"show_guest_tables",attendance_event_id:c},success:function(b){a(".invited-guest-table tbody").html(b),d(c)}})}function d(b){a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"show_guest_request_table",attendance_event_id:b},success:function(b){a("#guest-request-table").show(),a(".guest-requests-table tbody").html(b)}})}var e;a("#submit_request").on("click",function(){var c=a("#request_form");return c[0].checkValidity()?(b(),a("#request_form").trigger("reset"),a("#request_modal").hide(),void 0):void c[0].reportValidity()}),a(".request-button").on("click",function(){e=a(this).data("id")}),a(".event-guest").on("click",function(){var b=a(this).data("id");a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"show_guest_tables",attendance_event_id:b},success:function(c){a("#all-events-table").hide(),a("#all-guests-table").hide(),a("#invited-guests-table").show(),a(".invited-guest-table tbody").html(c),d(b)}})}),a(".show-all-guests").on("click",function(){a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"show_approved_guests"},success:function(b){a("#all-events-table").hide(),a("#guest-request-table").hide(),a("#invited-guests-table").hide(),a("#all-guests-table").show(),a(".all-guests-table tbody").html(b)}})}),a(document).on("click",".approve-guest",function(){var b=a(this).data("guestid"),d=a(this).data("eventid");a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"approve_guests",approve_guest_id:b},success:function(a){c(d)}})}),a(document).on("click",".reject-guest",function(){var b=a(this).data("guestid"),d=a(this).data("eventid");a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"reject_guests",reject_guest_id:b},success:function(a){c(d)}})}),a(document).on("click",".invitation",function(){var b=a(this).data("id");a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"send_invitation_mail",event_id:b},success:function(a){console.log(a)}})}),a(".show-all-events").on("click",function(){a.ajax({type:"POST",url:PARAMS.ajaxurl,data:{action:"show_all_events"},success:function(b){a("#all-guests-table").hide(),a("#guest-request-table").hide(),a("#invited-guests-table").hide(),a("#all-events-table").show(),a(".all-events-table tbody").html(b)}})})});